{"version":3,"file":"types.js","sourceRoot":"","sources":["../../src/types.ts"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;GAcG;;;AAEU,QAAA,0CAA0C,GACrD,yBAAyB,CAAC;AACf,QAAA,oCAAoC,GAAG,mBAAmB,CAAC;AAC3D,QAAA,WAAW,GAAG,aAAa,CAAC;AAC5B,QAAA,sBAAsB,GAAG,wBAAwB,CAAC;AAClD,QAAA,gBAAgB,GAAG,kBAAkB,CAAC;AACtC,QAAA,mBAAmB,GAAG,qBAAqB,CAAC;AAC5C,QAAA,kBAAkB,GAAG,oBAAoB,CAAC;AAC1C,QAAA,sBAAsB,GAAG,wBAAwB,CAAC;AAClD,QAAA,iBAAiB,GAAG,mBAAmB,CAAC;AACxC,QAAA,iBAAiB,GAAG,mBAAmB,CAAC;AACxC,QAAA,WAAW,GAAG,aAAa,CAAC;AAE5B,QAAA,iBAAiB,GAAG,6BAA6B,CAAC;AAClD,QAAA,mBAAmB,GAAG,yBAAyB,CAAC;AAEhD,QAAA,sBAAsB,GAAG,iBAAiB,CAAC;AAC3C,QAAA,sBAAsB,GACjC,+DAA+D,CAAC;AACrD,QAAA,iCAAiC,GAAG,wBAAwB,CAAC;AAC7D,QAAA,sBAAsB,GAAG,cAAc,CAAC;AAErD,sCAAsC;AACtC,gFAAgF;AAChF,wCAAwC;AAC3B,QAAA,uBAAuB,GAAG,qBAAqB,CAAC;AAE7D,uFAAuF;AAC1E,QAAA,sBAAsB,GAAG,sCAAsC,CAAC;AAO7E;;;;;GAKG;AACH,SAAgB,gCAAgC,CAC9C,UAAkB;IAElB,IAAI,CAAC,UAAU;QAAE,OAAO,SAAS,CAAC;IAClC,MAAM,QAAQ,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACvC,+DAA+D;IAC/D,MAAM,oBAAoB,GAAG,QAAQ,CAAC,SAAS,CAC7C,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,EAAE,KAAK,iBAAiB,CAC3C,CAAC;IACF,IACE,oBAAoB,KAAK,CAAC,CAAC;QAC3B,oBAAoB,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC,EAC1C;QACA,OAAO,QAAQ,CAAC,oBAAoB,GAAG,CAAC,CAAC,CAAC;KAC3C;IACD,yCAAyC;IACzC,OAAO,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,SAAS,CAAC;AACpD,CAAC;AAjBD,4EAiBC","sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const AZURE_APP_SERVICE_STAMP_RESOURCE_ATTRIBUTE =\n  'azure.app.service.stamp';\nexport const CLOUD_RESOURCE_ID_RESOURCE_ATTRIBUTE = 'cloud.resource_id';\nexport const REGION_NAME = 'REGION_NAME';\nexport const WEBSITE_HOME_STAMPNAME = 'WEBSITE_HOME_STAMPNAME';\nexport const WEBSITE_HOSTNAME = 'WEBSITE_HOSTNAME';\nexport const WEBSITE_INSTANCE_ID = 'WEBSITE_INSTANCE_ID';\nexport const WEBSITE_OWNER_NAME = 'WEBSITE_OWNER_NAME';\nexport const WEBSITE_RESOURCE_GROUP = 'WEBSITE_RESOURCE_GROUP';\nexport const WEBSITE_SITE_NAME = 'WEBSITE_SITE_NAME';\nexport const WEBSITE_SLOT_NAME = 'WEBSITE_SLOT_NAME';\nexport const WEBSITE_SKU = 'WEBSITE_SKU';\n\nexport const FUNCTIONS_VERSION = 'FUNCTIONS_EXTENSION_VERSION';\nexport const FUNCTIONS_MEM_LIMIT = 'WEBSITE_MEMORY_LIMIT_MB';\n\nexport const AZURE_VM_METADATA_HOST = '169.254.169.254';\nexport const AZURE_VM_METADATA_PATH =\n  '/metadata/instance/compute?api-version=2021-12-13&format=json';\nexport const AZURE_VM_SCALE_SET_NAME_ATTRIBUTE = 'azure.vm.scaleset.name';\nexport const AZURE_VM_SKU_ATTRIBUTE = 'azure.vm.sku';\n\n// AKS ConfigMap environment variables\n// The native AKS ConfigMap is 'aks-cluster-metadata' in 'kube-public' namespace\n// with a single key 'clusterResourceId'\nexport const AKS_CLUSTER_RESOURCE_ID = 'CLUSTER_RESOURCE_ID';\n\n// AKS ConfigMap file path (mounted from aks-cluster-metadata ConfigMap in kube-public)\nexport const AKS_METADATA_FILE_PATH = '/etc/kubernetes/aks-cluster-metadata';\n\nexport interface AksClusterMetadata {\n  name?: string;\n  resourceId?: string;\n}\n\n/**\n * Extracts the cluster name from an AKS ARM resource ID.\n * @param resourceId The full ARM resource ID, e.g.:\n *   /subscriptions/.../resourceGroups/.../providers/Microsoft.ContainerService/managedClusters/my-cluster\n * @returns The cluster name (last segment), or undefined if not found\n */\nexport function extractClusterNameFromResourceId(\n  resourceId: string\n): string | undefined {\n  if (!resourceId) return undefined;\n  const segments = resourceId.split('/');\n  // The cluster name is the last segment after 'managedClusters'\n  const managedClustersIndex = segments.findIndex(\n    s => s.toLowerCase() === 'managedclusters'\n  );\n  if (\n    managedClustersIndex !== -1 &&\n    managedClustersIndex < segments.length - 1\n  ) {\n    return segments[managedClustersIndex + 1];\n  }\n  // Fallback: just return the last segment\n  return segments[segments.length - 1] || undefined;\n}\n\nexport interface AzureVmMetadata {\n  azEnvironment?: string;\n  additionalCapabilities?: {\n    hibernationEnabled?: string;\n  };\n  hostGroup?: {\n    id?: string;\n  };\n  host?: {\n    id?: string;\n  };\n  extendedLocation?: {\n    type?: string;\n    name?: string;\n  };\n  evictionPolicy?: string;\n  isHostCompatibilityLayerVm?: string;\n  licenseType?: string;\n  location: string;\n  name: string;\n  offer?: string;\n  osProfile?: {\n    adminUsername?: string;\n    computerName?: string;\n    disablePasswordAuthentication?: string;\n  };\n  osType?: string;\n  placementGroupId?: string;\n  plan?: {\n    name?: string;\n    product?: string;\n    publisher?: string;\n  };\n  platformFaultDomain?: string;\n  platformSubFaultDomain?: string;\n  platformUpdateDomain?: string;\n  priority?: string;\n  provider?: string;\n  publicKeys?: [\n    {\n      keyData?: string;\n      path?: string;\n    },\n    {\n      keyData?: string;\n      path?: string;\n    },\n  ];\n  publisher?: string;\n  resourceGroupName?: string;\n  resourceId: string;\n  securityProfile?: {\n    secureBootEnabled?: string;\n    virtualTpmEnabled?: string;\n    encryptionAtHost?: string;\n    securityType?: string;\n  };\n  sku: string;\n  storageProfile?: {\n    dataDisks?: [\n      {\n        bytesPerSecondThrottle?: string;\n        caching?: string;\n        createOption?: string;\n        diskCapacityBytes?: string;\n        diskSizeGB?: string;\n        image?: {\n          uri?: string;\n        };\n        isSharedDisk?: string;\n        isUltraDisk?: string;\n        lun?: string;\n        managedDisk?: {\n          id?: string;\n          storageAccountType?: string;\n        };\n        name: string;\n        opsPerSecondThrottle?: string;\n        vhd?: {\n          uri?: string;\n        };\n        writeAcceleratorEnabled?: string;\n      },\n    ];\n    imageReference?: {\n      id?: string;\n      offer?: string;\n      publisher?: string;\n      sku?: string;\n      version?: string;\n    };\n    osDisk?: {\n      caching?: string;\n      createOption?: string;\n      diskSizeGB?: string;\n      diffDiskSettings?: {\n        option?: string;\n      };\n      encryptionSettings?: {\n        enabled?: string;\n        diskEncryptionKey?: {\n          sourceVault?: {\n            id?: string;\n          };\n          secretUrl?: string;\n        };\n        keyEncryptionKey?: {\n          sourceVault?: {\n            id?: string;\n          };\n          keyUrl?: string;\n        };\n      };\n      image?: {\n        uri?: string;\n      };\n      managedDisk?: {\n        id?: string;\n        storageAccountType?: string;\n      };\n      name?: string;\n      osType?: string;\n      vhd?: {\n        uri?: string;\n      };\n      writeAcceleratorEnabled?: string;\n    };\n    resourceDisk?: {\n      size?: string;\n    };\n  };\n  subscriptionId?: string;\n  tags?: string;\n  tagsList?: object[];\n  customData?: string;\n  userData?: string;\n  version: string;\n  virtualMachineScaleSet?: {\n    id?: string;\n  };\n  vmId: string;\n  vmScaleSetName: string;\n  vmSize: string;\n  zone?: string;\n}\n"]}